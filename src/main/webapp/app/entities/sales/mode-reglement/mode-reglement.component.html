@if (showModeReglementCard) {
  <div class="card col-md-7">
    <div class="card-header sale-card-header">
      Mode règlement
    </div>

    <div class="card-body sale-card">
      <div class="row sale-chexkbox">
        <div class="col-md-3">
    <span class="float-left">
        <span class="float-left wr-check-box">Vente différée ?</span><p-inputSwitch
      (onChange)="onDiffereChange()" [(ngModel)]="isDiffere">

        </p-inputSwitch></span>
        </div>
        <div class="col-md-3">
             <span
               class="float-left wr-check-box">Imprimer le ticket ?</span><span
          class="float-left"><p-inputSwitch
          [(ngModel)]="printTicket">
        </p-inputSwitch></span>

        </div>
        <div class="col-md-3">
          <span class="float-left mr-1  wr-check-box">Imprimer la facture ?</span><span
          class="float-left"><p-inputSwitch
          [(ngModel)]="printInvoice">
        </p-inputSwitch></span>
        </div>

      </div>
      <div class="row" style="margin-top: 0.5rem;">
        @for (modePay of modeReglementSelected;track trackPaymentModeId;let index = $index;let isFirst = $first;let isLast = $last) {
          <div class="col-md-6 ">

            <div class="p-inputgroup">
              <span class="p-inputgroup-addon {{modePay.styleBtnClass}}"></span>
              <input (input)="manageCashPaymentMode($event,modePay)" (keydown.enter)="save()"
                     [(ngModel)]="modePay.amount" [id]="modePay.code"
                     [pKeyFilter]="'int'" [readOnly]="modePay.isReadonly"
                     class="payment-mode-input" pInputText />
              @if (showAddModePaimentBtn) {
                <button (click)="onAddPaymentModeToggle(modePay,$event)"
                        class="p-button-info add-mode-payment-btn"
                        icon="pi pi-plus" pButton
                        type="button"></button>
              }


              <button (click)="onRemovePaymentModeToggle(modePay,$event)" class="p-button-danger"
                      icon="pi pi-times"
                      pButton type="button"></button>
            </div>

          </div>
        }


      </div>

    </div>

  </div>
}
<p-overlayPanel #addOverlayPanel [showCloseIcon]="true" [style]="{'width': '450px'}">
  <ng-template pTemplate="content">
    <div class="d-flex flex-wrap">
      @for (modePay of reglements;track trackPaymentModeId;let i = $index) {
        <ng-container>
          <div (click)="onAddPaymentMode(modePay)" class="p-2 mode-reglement-icon">
            <span class="{{modePay.styleImageClass}}"></span>
          </div>
        </ng-container>
      }


    </div>
  </ng-template>

</p-overlayPanel>

<p-overlayPanel #removeOverlayPanel [showCloseIcon]="true" [style]="{'width': '450px'}">
  <ng-template pTemplate="content">
    <div class="d-flex flex-wrap">
      @for (modePay of reglements;track trackPaymentModeId;let i = $index) {
        <ng-container>
          <div (click)="onRemovePaymentMode(modePay)"

               class="p-2  mode-reglement-icon">
            <span class="{{modePay.styleImageClass}}"></span>
          </div>
        </ng-container>
      }


    </div>
  </ng-template>

</p-overlayPanel>
