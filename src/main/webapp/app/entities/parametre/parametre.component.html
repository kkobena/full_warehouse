<div class="container-fluid">
  <p-panel>
    <ng-template #header>
      <h4>Paramètres de configuaration</h4>
    </ng-template>
    <ng-template #content> @if (apps.length > 0) {
      <div [style]="{ width: '100%' }">
        <input pInputText type="text" (keyup.enter)="loadAll()" [(ngModel)]="search" [style]="{ width: '350px' }" />
      </div>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead class="pharma-table-head">
          <tr>
            <th>Nom</th>
            <th>description</th>
            <th>Valeur</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
            @for (app of apps; track app.name) {
              <tr>
                <td>{{ app.name }}</td>
                <td>{{ app.description }}</td>
                @if (app.valueType === 'BOOLEAN') {
                  <td>
                    @if (app.name !== 'APP_GESTION_STOCK') {
                      @if (app.value == 0) {
                        <p-button size="small" raised="true" severity="danger" (click)="setActive(app, true)"
                                  label="Désactivé">

                        </p-button>
                      } @else {
                        <p-button size="small" raised="true" label="Activé" severity="primary"
                                  (click)="setActive(app, false)">

                        </p-button>
                      }
                    }
                  </td>
                } @else {
                  <td>{{ app.value }}</td>
                }
                <td>
                  @if (app.name !== 'APP_GESTION_STOCK') {
                    <p-button size="small" raised="true" label="Modifier" (click)="onEdit(app)" severity="info"
                              icon="pi pi-pencil"></p-button>
                  }
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }</ng-template>
  </p-panel>

</div>

