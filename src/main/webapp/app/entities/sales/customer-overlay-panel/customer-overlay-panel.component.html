<!-- Modern Customer Overlay Panel -->
<div class="customer-panel-wrapper">

  <!-- Customer Popover -->
  <p-popover #op [style]="{ width: '650px' }">
    <ng-template pTemplate="content">
      <jhi-customer-data-table (closeModalEvent)="onClose(op)"></jhi-customer-data-table>
    </ng-template>
  </p-popover>

  <!-- Customer Display Card -->
  <div class="customer-display-card">

    <!-- Action Button -->
    <div class="customer-action-btn">
      @if (customer) {
        <p-button
          (click)="remove()"
          pTooltip="Supprimer le client"
          tooltipPosition="top"
          icon="pi pi-times"
          severity="danger"
          size="small"
          [rounded]="true"
          class="remove-customer-btn">
        </p-button>
      } @else {
        <p-button
          (click)="op.toggle($event)"
          [pTooltip]="getLabele()"
          tooltipPosition="top"
          icon="pi pi-user-plus"
          severity="success"
          size="small"
          [rounded]="true"
          class="add-customer-btn">
        </p-button>
      }
    </div>

    <!-- Customer Information Display -->
    @if (customer) {
      <div class="customer-info-display">
        <div class="customer-info-row">
          <div class="info-item name-info">
            <i class="pi pi-user"></i>
            <div class="info-content">
              <span class="info-label">Client</span>
              <span class="info-value">{{ customer.fullName }}</span>
            </div>
          </div>

          <div class="info-item phone-info">
            <i class="pi pi-phone"></i>
            <div class="info-content">
              <span class="info-label">Mobile</span>
              <span class="info-value">{{ customer.phone }}</span>
            </div>
          </div>
        </div>
      </div>
    } @else {
      <div class="customer-placeholder">
        <i class="pi pi-user-plus"></i>
        <span>SÃ©lectionner un client</span>
      </div>
    }
  </div>
</div>
