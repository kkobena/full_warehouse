<div class="row produit-audit-transaction">
  <div class="col-2 col-md-2 col-sm-2">
    <p-card>
      <div #nav="ngbNav" [(activeId)]="active" class="nav flex-column nav-pills" ngbNav
           orientation="vertical">
        <ng-container ngbNavItem="auditing">
          <a class="flex-sm-fill nav-link" ngbNavLink>Mouvements de stock</a>
          <ng-template ngbNavContent>
            <jhi-auditing></jhi-auditing>
          </ng-template>
        </ng-container>
        <ng-container ngbNavItem="sales">
          <a class="flex-sm-fill nav-link" ngbNavLink>Historique des ventes</a>
          <ng-template ngbNavContent>
            <jhi-stat-sales></jhi-stat-sales>
          </ng-template>
        </ng-container>
        <ng-container ngbNavItem="commande">
          <a class="flex-sm-fill nav-link" ngbNavLink>Historique des commandes</a>
          <ng-template ngbNavContent>
            <jhi-stat-delivery></jhi-stat-delivery>
          </ng-template>
        </ng-container>
      </div>
    </p-card>
  </div>

  <div class="col-10 col-md-10 col-sm-10 row produit-audit-toolbar">
    <p-toolbar>
      <div class=" d-flex justify-content-between " style="width: 100%">
        <div class="flex-grow-1 d-flex justify-content-between">
          <div class="mr-1 flex-grow-1">
            <jhi-produit-autocomplete
              (selectedProduit)="onSelect($event)"
              [(ngModel)]="produit"
              [autofocus]="true"
              [includeDetails]="true"
              [pageSize]="PRODUIT_COMBO_RESULT_SIZE">
            </jhi-produit-autocomplete>
          </div>
          <!--[(ngModel)]="fromDate"-->
          <div class="mr-1">
            <jhi-date-picker #dateDebut
                             [disabled]="false"
                             [id]="'du'"
                             [max]="toDate"
                             [label]="'warehouseApp.labels.du'"
            ></jhi-date-picker>
          </div>
          <!-- [(ngModel)]="toDate"-->
          <div class="mr-1">
            <jhi-date-picker #dateFin
                             [disabled]="false"
                             [id]="'au'"
                             (onSelect)="updateParam()"
                             [defaultDate]="defaultDate"
                             [min]="fromDate"
                             [label]="'warehouseApp.labels.au'"
            ></jhi-date-picker>
          </div>


        </div>
        <div>
          <p-buttonGroup>
            @if (produit) {
              <div class="mr-1">
                <p-button [badge]="produit?.totalQuantity | number" badgeSeverity="contrast"
                          label="Stock" [raised]="true"/>
              </div>
            }

            <p-button (click)="load()" class="mr-1" icon="pi pi-search" label="Rechercher"
                      raised="true" severity="info"></p-button>
            @if (produit) {
              <p-button (click)="exportPdf()" class="mr-1" icon="pi pi-file-pdf" label="Imprimer"
                        raised="true" severity="warn" type="button">
              </p-button>
            }
            <jhi-back-button></jhi-back-button>
          </p-buttonGroup>
        </div>
      </div>
    </p-toolbar>

    <p-panel>
      <ng-template #header></ng-template>
      <div [ngbNavOutlet]="nav"></div>
    </p-panel>
  </div>
</div>
