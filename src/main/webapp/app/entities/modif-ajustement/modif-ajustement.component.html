<div class="container">
  <div class="justify-content-center">
    <p-panel>
      <ng-template #header>
        <h3>Liste des motifs d'ajustement</h3>
      </ng-template>
      <ng-template #content>
        <p-toolbar>
          <div class="p-toolbar-group-left p-md-7">
            <input (keyup.enter)="search($event)" pInputText placeholder="Taper pour rechercher" style="width: 98%"
                   type="text" />
          </div>
          <div class="p-toolbar-group-right">
            <p-button (click)="addNewEntity()" icon="pi pi-check" label="Nouveau" raised="true" severity="success"
                      type="button"></p-button>
          </div>
        </p-toolbar>

        <div class="mt-2">
          @if (entites && entites.length > 0) {
            <p-table
              [value]="entites"
              [paginator]="true"
              [rows]="itemsPerPage"
              dataKey="id"
              selectionMode="single"
              [lazy]="true"
              [totalRecords]="totalItems"
              [loading]="loading"
              (onLazyLoad)="lazyLoading($event)"
            >
              <ng-template #header>
                <tr>
                  <th scope="col"><span>Libellé</span></th>
                  <th scope="col"></th>
                </tr>
              </ng-template>
              <ng-template #body let-elRow let-columns="columns">
                <tr>
                  <td>{{ elRow.libelle }}</td>
                  <td style="text-align: right">
                    <p-button [text]="true" rounded="true" severity="success" icon="pi pi-pencil" size="small"
                              (click)="onEdit(elRow)"></p-button>
                    <p-button [text]="true" icon="pi pi-trash" rounded="true" size="small" severity="danger"
                              (click)="delete(elRow)"></p-button>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          } @else {
            <div class="alert alert-warning" id="no-result">
              <span>Aucune donnée trouvée</span>
            </div>
          }
        </div>

      </ng-template>
    </p-panel>
  </div>
</div>

<jhi-confirm-dialog #confirmDialog></jhi-confirm-dialog>
