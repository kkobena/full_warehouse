<p-confirmDialog [style]="{width: '40vw'}" #deleteGroupe key="deleteGroupe" [baseZIndex]="10000">
    <p-footer>
        <button type="button" class="p-button-danger" pButton icon="pi pi-times" label="Non"
                (click)="deleteGroupe.reject()"></button>
        <button type="button" pButton icon="pi pi-check" label="Oui" (click)="deleteGroupe.accept()"></button>
    </p-footer>

</p-confirmDialog>
<p-dialog header="Importer un fichier" [(visible)]="fileDialog" [focusOnShow]="false" [responsive]="true"
          showEffect="fade" [modal]="true" [style]="{width: '50vw'}">
    <div class="ui-g form-group">
        <p-fileUpload chooseLabel="Importer un fichier" name="importcsv" uploadLabel="Enrégistrer" cancelLabel="Annuler"
                      accept=".txt,.csv,.xls,.xlsx" [customUpload]="true" (uploadHandler)="onUpload($event)">
        </p-fileUpload>
    </div>
    <p-footer>
        <button type="button" class="p-button-danger p-mr-2 p-button-raised" pButton pRipple icon="pi pi-times"
                (click)="cancel()" label="Annuler"></button>

    </p-footer>
</p-dialog>
<p-dialog header="Message" [(visible)]="responseDialog" [focusOnShow]="false" [responsive]="true" showEffect="fade"
          [modal]="true" [style]="{width: '500px'}">
    <div class="ui-g form-group">
        <p>Le nombre de lignes insérées <span style="font-weight: 900; margin-left: 10px;"> {{responsedto?.size}}
            /{{responsedto?.totalSize}}</span>
        </p>
    </div>
</p-dialog>
<div>
    <h3>Liste des groupes de tiers-payants </h3>
    <p-toolbar>
        <div class="p-toolbar-group-left p-md-7">
                    <span class="p-input-icon-left" style="width: 70%;">
                        <i class="pi pi-search"></i>
                        <input type="text" style="width:98%;" pInputText placeholder="Taper pour rechercher"
                               [(ngModel)]="search"
                               (keyup.enter)="onSearch()">
                    </span>
        </div>
        <div class="p-toolbar-group-right">
            <span class="p-buttonset">
            <button pButton pRipple type="button" icon="pi pi-upload"
                    class="p-button-raised p-button-help p-mr-2" label="Importer" (click)="showFileDialog()"></button>
            <button pButton pRipple type="button" icon="pi pi-check" iconPos="left" label="Nouveau"
                    class="p-button-raised p-button-success" (click)="addGroupeTiersPayant()"></button></span>
        </div>
    </p-toolbar>

    <div class="alert alert-warning mt-2" id="no-result" *ngIf="entites?.length === 0">
        <span>Aucune donnée trouvée</span>
    </div>
    <p-table *ngIf="entites && entites.length > 0" styleClass="mt-2" [value]="entites" [paginator]="true" [rows]="10">
        <ng-template pTemplate="header">
            <tr>
                <th scope="col"><span>Libellé</span></th>
                <th scope="col"><span>Adresse</span></th>
                <th scope="col"><span>Téléphone</span></th>
                <th scope="col"><span>Téléphone fixe</span></th>
                <th scope="col"></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-groupeTiersPayant let-columns="columns">
            <tr [pSelectableRow]="selectedEl">
                <td>{{groupeTiersPayant.name}}</td>
                <td>{{groupeTiersPayant.adresse}}</td>
                <td>{{groupeTiersPayant.telephone}}</td>
                <td>{{groupeTiersPayant.telephoneFixe}}</td>

                <td style="text-align: center;">
                    <button pButton pRipple icon="pi pi-pencil" type="button" pTooltip="Supprimer"
                            pTooltip="Editer" class="p-button-rounded p-button-success p-mr-2"
                            (click)="editGroupeTiersPayant(groupeTiersPayant)"></button>
                    <button pButton pRipple icon="pi pi-trash" type="button"
                            class="p-button-rounded p-button-warning" (click)="onConfirmDelete(groupeTiersPayant)"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>


</div>

