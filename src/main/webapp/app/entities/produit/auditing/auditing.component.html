<p-table [scrollable]="true" [value]="entites"  [showGridlines]="true">
  <ng-template #header>
    <tr>
      <th rowspan="2">Date</th>
      <th rowspan="2">Qté.init</th>
      <th class="text-center" colspan="5">Sortie</th>
      <th class="text-center" colspan="4">Entrée</th>
      <th rowspan="2">Qté.inv</th>
      <th rowspan="2">Ecart.inv</th>
      <th rowspan="2">Stock</th>
    </tr>
    <tr>
      <th>Vente</th>
      <th>Retour.four</th>
      <th>Qté.périmée</th>
      <th>Qté.ajustée</th>
      <th>Qté.décon</th>
      <th>Qté.entrée</th>
      <th>Qté.ajustée</th>
      <th>Qté.décon</th>
      <th>Qté.annullée</th>
    </tr>
  </ng-template>
  <ng-template let-columns="columns" let-elRow #body>
    <tr [pEditableRow]="elRow" [pSelectableRow]="elRow">
      <td class="text-center">{{ elRow.mvtDate | date: 'dd/MM/yyyy' }}</td>
      <td class="text-right">{{ elRow.initStock | number }}</td>
      <td class="text-right">{{ elRow.saleQuantity }}</td>
      <td class="text-right">{{ elRow.retourFournisseurQuantity | number }}</td>
      <td class="text-right">{{ elRow.perimeQuantity | number }}</td>
      <td class="text-right">{{ elRow.ajustementNegatifQuantity | number }}</td>
      <td class="text-right">{{ elRow.deconNegatifQuantity | number }}</td>
      <td class="text-right">{{ elRow.deleveryQuantity | number }}</td>
      <td class="text-right">{{ elRow.ajustementPositifQuantity | number }}</td>
      <td class="text-right">{{ elRow.deconPositifQuantity | number }}</td>
      <td class="text-right text-danger">{{ elRow.canceledQuantity | number }}</td>
      <td class="text-right">{{ elRow.storeInventoryQuantity | number }}</td>
      <td class="text-right">{{ elRow.inventoryGap | number }}</td>
      <td class="text-right">{{ elRow.afterStock | number }}</td>
    </tr>
  </ng-template>
  <ng-template #footer>
    @if (entites && entites.length > 0) {
      <tr>
        <td colspan="2">TOTAUX</td>
        <td class="text-right amount-column">
          {{ saleQuantity | number }}
        </td>
        <td class="text-right amount-column">
          {{ retourFournisseurQuantity | number }}
        </td>
        <td class="text-right amount-column">
          {{ perimeQuantity | number }}
        </td>
        <td class="text-right amount-column">
          {{ ajustementNegatifQuantity | number }}
        </td>
        <td class="text-right amount-column">
          {{ deconNegatifQuantity | number }}
        </td>
        <td class="text-right amount-column">
          {{ deleveryQuantity | number }}
        </td>
        <td class="text-right amount-column">
          {{ ajustementPositifQuantity | number }}
        </td>
        <td class="amount-column text-right">
          {{ deconPositifQuantity | number }}
        </td>
        <td class="text-right amount-column text-danger">
          {{ canceledQuantity | number }}
        </td>
        <td colspan="3"></td>
      </tr>
    }
  </ng-template>
  <ng-template let-columns #emptymessage>
    <tr>
      <td [attr.colspan]="14">Aucune donnée trouvée</td>
    </tr>
  </ng-template>
</p-table>
