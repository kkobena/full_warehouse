<p-toast position="center"></p-toast>
<ngx-spinner [fullScreen]="false" bdColor="rgba(255,255,255,0.5)" color="#f13151" size="medium" type="timer"></ngx-spinner>
<p-confirmDialog [baseZIndex]="10000" [style]="{ width: '40vw' }" key="delete"></p-confirmDialog>
<p-confirmDialog [baseZIndex]="10000" [style]="{ width: '40vw' }" key="saveAll"></p-confirmDialog>
<p-table
  [paginator]="true"
  [rowsPerPageOptions]="[5, 10, 15, 20, 30, 50]"
  [rows]="itemsPerPage"
  [showCurrentPageReport]="false"
  [totalRecords]="totalItems"
  [value]="rowData"
  dataKey="id"
  selectionMode="multiple"
  class="pharma-table"
  [showGridlines]="true"
>
  <ng-template #header>
    <tr class="pharma-table-head">
      <th>Emplacement</th>
      <th>Date</th>
      <th>Opérateur</th>

      <th style="width: 15%"></th>
    </tr>
  </ng-template>
  <ng-template let-storeInventory #body>
    <tr>
      <td>
        <span class="pharma-badge pharma-badge-info">{{ storeInventory.storage?.name }}</span>
      </td>
      <td>{{ storeInventory.updatedAt | date: 'dd/MM/yyyy HH:mm:ss' }}</td>
      <td>{{ storeInventory.abbrName }}</td>
      <td class="text-right">
        <div class="btn-group">
          <p-button
            [routerLink]="['/store-inventory', storeInventory.id, 'edit']"
            icon="pi pi-pencil"
            pTooltip="Editer"
            rounded="true"
            severity="success"
            size="small"
          >
          </p-button>
          <p-button
            (click)="confirmSave(storeInventory)"
            class="ml-sm-1"
            icon="pi pi-lock"
            pButton
            pTooltip="Clôtuer"
            rounded="true"
            severity="help"
            size="small"
          ></p-button>
          <p-button
            (click)="exportPdf(storeInventory)"
            class="ml-sm-1"
            icon="pi pi-print"
            pTooltip="Imprimer"
            rounded="true"
            severity="secondary"
            size="small"
          ></p-button>
          <p-button
            (click)="confirmDelete(storeInventory)"
            class="ml-sm-1"
            icon="pi pi-trash"
            pTooltip="Supprimer"
            rounded="true"
            severity="danger"
            size="small"
            type="submit"
          ></p-button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
