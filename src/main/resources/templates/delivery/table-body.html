<table class="main-table">
  <thead>
  <tr>
    <th class="text-left" style="width: 12%">CODE</th>
    <th class="text-left" style="width: 38%">DESCRIPTION</th>
    <th class="text-right" style="width: 8%">PRIX.U</th>
    <th class="text-right" style="width: 8%">PRIX.A</th>
    <th class="text-right" style="width: 6%">QTE</th>
    <th class="text-right" style="width: 6%">STOCK.INIT</th>
    <th class="text-right" style="width: 6%">STOCK.APRES</th>
    <th class="text-right" style="width: 8%">TOTAL.A</th>
    <th class="text-right" style="width: 8%">TOTAL.V</th>
  </tr>
  </thead>
  <tbody>
  <tr th:class="${itmStat.last}?'last-item':''" th:each="itm : ${items}">
    <td
      class="text-left"
      th:if="${#strings.isEmpty(itm.fournisseurProduit.produit.codeEan)}"
      th:text="${itm.fournisseurProduit.codeCip}"
    ></td>
    <td
      class="text-left"
      th:if="${!#strings.isEmpty(itm.fournisseurProduit.produit.codeEan)}"
      th:text="${itm.fournisseurProduit.produit.codeEan}"
    ></td>
    <td class="text-left" th:text="${itm.fournisseurProduit.produit.libelle}"></td>

    <td class="unit" th:if="${itm.orderUnitPrice ge 1000}"
        th:text="${#numbers.formatInteger(itm.orderUnitPrice,3,'WHITESPACE')}"></td>
    <td class="unit" th:if="${itm.orderUnitPrice lt 1000}" th:text="${itm.orderUnitPrice}"></td>
    <td class="unit" th:if="${itm.orderCostAmount ge 1000}"
        th:text="${#numbers.formatInteger(itm.orderCostAmount,3,'WHITESPACE')}"></td>
    <td class="unit" th:if="${itm.orderCostAmount lt 1000}" th:text="${itm.orderCostAmount}"></td>

    <td
      class="qty"
      th:if="${itm.quantityRequested ge 1000}"
      th:text="${#numbers.formatInteger(itm.quantityRequested,3,'WHITESPACE')}"
    ></td>
    <td class="qty" th:if="${itm.quantityRequested lt 1000}"
        th:text="${itm.quantityRequested}"></td>

    <td class="qty" th:if="${itm.initStock ge 1000}"
        th:text="${#numbers.formatInteger(itm.initStock,3,'WHITESPACE')}"></td>
    <td class="qty" th:if="${itm.initStock lt 1000}" th:text="${itm.initStock}"></td>

    <td class="qty" th:if="${itm.finalStock ge 1000}"
        th:text="${#numbers.formatInteger(itm.finalStock,3,'WHITESPACE')}"></td>
    <td class="qty" th:if="${itm.finalStock lt 1000}" th:text="${itm.finalStock}"></td>

    <td
      class="total"
      th:if="${itm.grossAmount ge 1000}"
      th:text="${#numbers.formatInteger(itm.grossAmount,3,'WHITESPACE')}"
    ></td>
    <td class="total" th:if="${itm.grossAmount lt 1000}"
        th:text="${itm.grossAmount}"></td>

    <td
      class="total"
      th:if="${itm.orderAmount ge 1000}"
      th:text="${#numbers.formatInteger(itm.orderAmount,3,'WHITESPACE')}"
    ></td>
    <td class="total" th:if="${itm.orderAmount lt 1000}"
        th:text="${itm.orderAmount}"></td>
  </tr>
  </tbody>
  <tfoot th:if="${isLastPage}">
  <tr>
    <td style="text-align: left"></td>
    <td colspan="5" style="text-align: left">
      <span>NOMBRE DE PRODUITS <span class="total item-size"
                                     th:text="${'( '+ item_size}+' )'"></span></span>
    </td>
  </tr>
  </tfoot>
</table>
<section th:if="${isLastPage}" th:replace="~{delivery/table-footer}"></section>
