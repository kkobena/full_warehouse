<nav class="shadow-sm navbar navbar-dark navbar-expand-md bg-primary" data-cy="navbar">
  <div class="container-fluid">
    <a (click)="collapseNavbar()" class="navbar-brand logo" routerLink="/">
      <span class="logo-img"></span>
      <span class="navbar-title mr-2" jhiTranslate="global.title">Pharma Smart</span>
      <span class="navbar-version ">{{ version }}</span>
    </a>
    <a
      (click)="toggleNavbar()"
      aria-controls="navbarResponsive"
      aria-expanded="false"
      aria-label="Toggle navigation"
      class="navbar-toggler d-lg-none"
      data-target="#navbarResponsive"
      data-toggle="collapse"
      href="javascript:void(0);"
    >
      <fa-icon icon="bars"></fa-icon>
    </a>

    <div [ngbCollapse]="isNavbarCollapsed()" class="navbar-collapse collapse" id="navbarResponsive">
      <ul class="navbar-nav ms-auto">
        @for (item of navItems; track item.label) {
          @if (item.children && item.children.length > 0) {
            <li ngbDropdown class="nav-item dropdown pointer" display="dynamic" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
              <a ngbDropdownToggle class="nav-link dropdown-toggle" href="javascript:void(0);">
                <span>
                  @if(item.faIcon){
                    <fa-icon [icon]="item.faIcon"></fa-icon>
                  }
                  <span>{{item.label}}</span>
                </span>
              </a>
              <ul ngbDropdownMenu class="dropdown-menu">
                @for (child of item.children; track child.label) {
                  <li>
                    <a (click)="child.click ? child.click() : collapseNavbar()" class="dropdown-item" [routerLink]="child.routerLink" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
                      @if(child.faIcon){
                        <fa-icon [icon]="child.faIcon" [fixedWidth]="true"></fa-icon>
                      }
                      <span>{{child.label}}</span>
                    </a>
                  </li>
                }
              </ul>
            </li>
          } @else {
            <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
              <a class="nav-link" [routerLink]="item.routerLink" (click)="item.click ? item.click() : collapseNavbar()">
                <span>
                  @if(item.faIcon){
                    <fa-icon [icon]="item.faIcon"></fa-icon>
                  }
                  <span>{{item.label}}</span>
                </span>
              </a>
            </li>
          }
        }
      </ul>
    </div>
  </div>
</nav>
