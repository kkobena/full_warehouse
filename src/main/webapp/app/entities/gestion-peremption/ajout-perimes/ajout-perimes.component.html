<div class="container-fluid">
  <p-panel>
    <ng-template #header>
      <div class="d-flex justify-content-between">
        <p-floatlabel>
          <p-autoComplete
            #produitbox
            (completeMethod)="searchFn($event)"
            (onSelect)="onSelect()"
            [(ngModel)]="produitSelected"
            [appendTo]="APPEND_TO"
            [dataKey]="'id'"
            [dropdown]="true"
            [emptyMessage]="PRODUIT_NOT_FOUND"
            [forceSelection]="true"
            [minLength]="PRODUIT_COMBO_MIN_LENGTH"
            [showEmptyMessage]="true"
            [suggestions]="produits"
            id="produits"
            optionLabel="libelle"
          >
            <ng-template #item let-item>
              @if (item.totalQuantity > 0) {
                <div [style]="{ width: '100%' }">
                        <span
                          style="width: 20%; display: inline-block">{{ item.fournisseurProduit?.codeCip }}</span
                        ><span> {{ item.libelle }}</span>
                  <span class="float-right">{{ item.regularUnitPrice | number }}</span>
                </div>
              }
              @if (item.totalQuantity <= 0) {
                <div [style]="{ width: '100%' }">
                        <span class="stockless"
                              style="width: 20%; display: inline-block">{{ item.fournisseurProduit?.codeCip }}</span
                        ><span class="stockless"> {{ item.libelle }}</span>
                  <span
                    class="float-right stockless">{{ item.regularUnitPrice | number }}</span>
                </div>
              }
            </ng-template>
          </p-autoComplete>
          <label for="produits">{{ 'warehouseApp.labels.produits' | translate }}</label>
        </p-floatlabel>

        <p-floatlabel>
          <p-inputgroup>

            <input
              #quantityBox
              (keydown.enter)="onQuantityBoxAction($event)"
              [(ngModel)]="quantiteSaisie"
              class="form-control"
              id="quantiteSaisie"
              pInputText
              pKeyFilter="int"
              type="text"
            />
            <p-inputgroup-addon>
              <p-button
                (click)="onQuantity()"
                [disabled]="!produitSelected"
                [raised]="true"
                icon="pi pi-plus"
                severity="info"
                type="button"
              ></p-button>
            </p-inputgroup-addon>
          </p-inputgroup>
          <label for="quantiteSaisie">{{ 'warehouseApp.labels.quantiteSaisie' | translate }}</label>
        </p-floatlabel>

        <p-floatlabel>


          <input
            #numLot
            (keydown.enter)="onQuantityBoxAction($event)"
            [(ngModel)]="quantiteSaisie"
            class="form-control"
            id="numLot"
            pInputText
            pKeyFilter="alphanum"
            type="text"
          />
          <label for="numLot">{{ 'warehouseApp.labels.numLot' | translate }}</label>
        </p-floatlabel>
      </div>
    </ng-template>
  </p-panel>
</div>
