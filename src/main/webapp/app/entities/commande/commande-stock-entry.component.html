<div class="commande-entry">
    <div class="row">
        <div class="col-sm-2">
            <div class="card-header">
                Information sur la commande

            </div>
            <div class="card-body form-bon">
                <ul class="list-group">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span style="margin-right: 5px;">Grossiste</span>
                        <span class="text-primary">{{commande?.fournisseur?.libelle}}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Valeur Achat
                        <span class="text-primary">{{commande?.grossAmount | number}}</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Valeur Vente
                        <span class="text-primary">{{commande?.orderAmount | number}}</span>
                    </li>
                </ul>
                <div class="mt-sm-1">
                    <div class="card-header">Formulaire du bon de livraison</div>
                    <div class="form-row pt-sm-1">
                        <div class="form-group col">
                            <label class="form-control-label">Référence Bon</label>
                            <input [(ngModel)]="receiptRefernce" autocomplete="off" class="form-control"
                                   pInputText type="text"/>

                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <label class="form-control-label">Séquence Bon</label>
                            <input [(ngModel)]="sequenceBon" autocomplete="off" class="form-control"
                                   pInputText type="text"/>

                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">

                            <label class="form-control-label">Date Bon</label>
                            <div class="input-group">
                                <p-calendar [(ngModel)]="receiptDate" [selectOtherMonths]="true" [showButtonBar]="true"
                                            dateFormat="dd/mm/yy" styleClass="date-picker-bl"

                                ></p-calendar>
                            </div>

                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <label class="form-control-label">Montant TTC</label>
                            <input [(ngModel)]="receiptAmount" autocomplete="off" class="form-control" pInputText
                                   pKeyFilter="int" type="text"/>

                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col">
                            <label class="form-control-label">Taxe</label>
                            <input [(ngModel)]="taxAmount" autocomplete="off" class="form-control" pInputText
                                   pKeyFilter="int" type="text"/>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-10">
            <div class="card-header">

                <div class="row">
<div class="col-md-2">
    Lignes de la commande
</div>
                    <div  class="col-md-4">
               <span class="p-input-icon-left" style="width: 100%;">
                    <i class="pi pi-search"></i>
                    <input type="text"  pInputText placeholder="Taper pour rechercher"
                           (input)="onSearch($event)">
                </span>
                    </div>
                    <div  class="col-md-6 text-right">
                        <button pButton pRipple type="button" icon="pi pi-save"
                                class="p-button-raised p-button-success mr-sm-1" label="Sauvegarder la saisie"></button>
                        <button pButton pRipple type="button" icon="pi pi-check-circle" iconPos="left" label="Valider l'entrée en stock"
                                class="p-button-raised  p-button-info mr-sm-1"  ></button>
                        <button  pButton pRipple type="button" icon="pi pi-arrow-left" iconPos="left"
                                 label="Retour" class="p-button-raised  p-button-secondary" (click)="previousState()" ></button>
                    </div>
                </div>
            </div>
            <div class="card-body" style="width: 100%;height: 100%;">

                <ag-grid-angular *ngIf="commande" #orderLineGrid class="ag-theme-alpine"
                                 style="width: 100%;height: 100%;"
                                 [rowData]="orderLines"
                                 [columnDefs]="columnDefs"
                                 [quickFilterText]="search"
                                 [enterMovesDown]="true" [enterMovesDownAfterEdit]="true"
                                 [defaultColDef]="defaultColDef"
                                 [frameworkComponents]="frameworkComponents"
                                 [context]="context"
                                 (cellValueChanged)="onCellValueChanged($event)"
                                 [singleClickEdit]="true"
                                 [cacheQuickFilter]="true"
                                 (gridReady)="onGridReady($event)"
                >


                    >
                </ag-grid-angular>


            </div>
        </div>
    </div>


</div>
