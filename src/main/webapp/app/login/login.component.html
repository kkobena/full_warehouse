<div class="login-wrapper">
  <!-- Left Panel - Branding -->
  <div class="login-branding">
    <div class="branding-content">
      <div class="logo-section">
        <img src="content/images/logo.png" alt="Pharma-Smart Logo" class="brand-logo" />
        <h1 class="brand-title">Pharma Smart</h1>
        <p class="brand-subtitle">Système de Gestion de Pharmacie</p>
      </div>

      <div class="features-list">
        <div class="feature-item">
          <i class="pi pi-check-circle"></i>
          <span>Gestion complète des stocks</span>
        </div>
        <div class="feature-item">
          <i class="pi pi-check-circle"></i>
          <span>Facturation intelligente</span>
        </div>
        <div class="feature-item">
          <i class="pi pi-check-circle"></i>
          <span>Suivi des ventes en temps réel</span>
        </div>
        <div class="feature-item">
          <i class="pi pi-check-circle"></i>
          <span>Conformité réglementaire</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Panel - Login Form -->
  <div class="login-form-panel">
    <div class="form-container">
      <div class="form-header">
        <div class="header-content">
          <div>
            <h2 class="form-title">Bienvenue</h2>
            <p class="form-subtitle">Connectez-vous à votre espace</p>
          </div>
          <button
            type="button"
            class="settings-button"
            (click)="openSettings()"
            title="Configuration du serveur"
          >
            <i class="pi pi-cog"></i>
          </button>
        </div>
      </div>

      @if (authenticationError()) {
        <div class="error-message" data-cy="loginError">
          <i class="pi pi-exclamation-circle"></i>
          <div class="error-content">
            <strong>Erreur de connexion</strong>
            <p>Veuillez vérifier vos identifiants de connexion</p>
          </div>
        </div>
      }

      <form (ngSubmit)="login()" [formGroup]="loginForm" class="login-form">
        <div class="form-field">
          <label for="username" class="field-label">
            <i class="pi pi-user"></i>
            <span jhiTranslate="global.form.username.label">Nom d'utilisateur</span>
          </label>
          <input
            #username
            [fluid]="true"
            autocomplete="username"
            data-cy="username"
            formControlName="username"
            id="username"
            name="username"
            pInputText
            placeholder="{{ 'global.form.username.placeholder' | translate }}"
            type="text"
            class="modern-input"
          />
        </div>

        <div class="form-field">
          <label for="password" class="field-label">
            <i class="pi pi-lock"></i>
            <span jhiTranslate="login.form.password">Mot de passe</span>
          </label>
          <p-password
            [feedback]="false"
            [fluid]="true"
            [toggleMask]="true"
            autocomplete="current-password"
            data-cy="password"
            formControlName="password"
            id="password"
            placeholder="{{ 'login.form.password.placeholder' | translate }}"
            class="modern-password"
          />
        </div>

        <div class="form-options">
          <div class="remember-me">
            <p-toggleswitch formControlName="rememberMe" id="rememberMe" name="rememberMe" />
            <label for="rememberMe">Se souvenir de moi</label>
          </div>
        <!--  <a href="#" class="forgot-link">Mot de passe oublié ?</a>-->
        </div>

        <button
          data-cy="submit"
          type="submit"
          class="login-button"
        ><i class="pi pi-sign-in mr-2"></i>Se connecter</button>
      </form>

      <div class="form-footer">
        <p class="help-text">
          <i class="pi pi-info-circle"></i>
          Besoin d'aide ? Contactez votre administrateur système
        </p>
      </div>
    </div>
  </div>
</div>
