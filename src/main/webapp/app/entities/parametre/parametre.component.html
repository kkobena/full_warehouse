<div class="container-fluid">
  <p-panel>
    <ng-template #header>
      <h5>Paramètres de configuaration</h5>
    </ng-template>
    <ng-template #content> @if (apps.length > 0) {
      <div [style]="{ width: '100%' }">
        <input (keyup.enter)="loadAll()" [(ngModel)]="search" [style]="{ width: '350px' }"
               pInputText
               type="text" />
      </div>
      <div class="table-responsive mt-2">
        <table class="table table-striped">
          <thead class="pharma-table-head">
          <tr>
            <th>Nom</th>
            <th>description</th>
            <th>Valeur</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
            @for (app of apps; track app.name) {
              <tr>
                <td>{{ app.name }}</td>
                <td>{{ app.description }}</td>
                @if (app.valueType === 'BOOLEAN') {
                  <td>
                    @if (app.name !== 'APP_GESTION_STOCK') {
                      @if (app.value == 0) {
                        <p-button (click)="setActive(app, true)" label="Désactivé" raised="true"
                                  severity="danger"
                                  size="small">

                        </p-button>
                      } @else {
                        <p-button (click)="setActive(app, false)" label="Activé" raised="true"
                                  severity="primary"
                                  size="small">

                        </p-button>
                      }
                    }
                  </td>
                } @else {
                  <td>{{ app.value }}</td>
                }
                <td>
                  @if (app.name !== 'APP_GESTION_STOCK') {
                    <p-button (click)="onEdit(app)" icon="pi pi-pencil" label="Modifier"
                              raised="true"
                              severity="info"
                              size="small"></p-button>
                  }
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }</ng-template>
  </p-panel>

</div>

